package com.null_6th_gwh.ball.view;

import java.awt.Graphics;
import java.awt.image.BufferedImage;

import com.null_6th_gwh.ball.util.R;

public class GamePipes {
	BufferedImage uppipe;
	BufferedImage downpipe;
	int x=0;
	int upy=0;
	int downy=0;
	int distance=100;
	GamePanel gp;

	public GamePipes(GamePanel gp) {
		gp=this.gp;
		uppipe = R.lode("up.png");
		downpipe = R.lode("down.png");
		reset();
	}
	private void reset(){
		x = gp.getSkyWeigh();
		int temp=MyRandom(0,gp.getSkyHeigh()-distance);
		upy=temp-uppipe.getHeight();
		downy=temp+distance;
	}
	
	/*
	 * 返回a和b之间的随机数
	 * 
	 */
	private static int MyRandom(int a,int b){
		return ((int)(Math.random()*Math.abs(a-b)))+Math.min(a, b);
	}

	public void paint(Graphics g) {
		// 58为管子的横像素
		if (x <= -uppipe.getWidth())
			reset();
		x--;
		g.drawImage(uppipe, x, upy, null);
		g.drawImage(downpipe, x, downy, null);
	}
}
